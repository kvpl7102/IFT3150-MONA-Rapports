<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
      content="Rapport pour le projet IFT3150 de Vi Phung, Hiver 2025">
    <link rel="icon"
      href="https://avatars.githubusercontent.com/u/140186505?s=200&v=4">
    <link rel="stylesheet" href="https://stackedit.io/style.css" />
    <link rel="stylesheet" href="styles.css">
    <title>Rapport IFT3150 - H25</title>
  </head>
  <body>
    <nav>
      <div class="dropdown">
        <button href="#hebdomaire" class="dropbtn">Rapport Hebdomadaire
          <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
          <a href="#semaine1">Semaine 1</a>
          <a href="#semaine2">Semaine 2</a>
          <a href="#semaine3">Semaine 3</a>
          <a href="#semaine4">Semaine 4</a>
          <a href="#semaine5">Semaine 5</a>
          <a href="#semaine6">Semaine 6</a>
          <a href="#semaine7">Semaine 7</a>
          <a href="#semaine8">Semaine 8</a>
          <a href="#semaine9">Semaine 9</a>
          <a href="#semaine10">Semaine 10</a>           
          <a href="#semaine11">Semaine 11</a>
          <a href="#semaine12">Semaine 12</a>
          <a href="#semaine13">Semaine 13</a>
        </div>
      </div>
      <a href="#rapport">Rapport Final</a>
      <!-- <div class="dropdown">
        <button href="#tutorial" class="dropbtn">Tutorial
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-content">
            <a href="#ssh">SSH</a>
            <a href="#install">Installation</a>
        </div>
    </div> -->
    </nav>

    <div style="padding:50px">
      <header>
        <div style="display: flex;justify-content: center">
          <a class="logo_lien" href="https://picasso.iro.umontreal.ca/~mona/">
            <img src="https://picasso.iro.umontreal.ca/~mona/storage/logo.jpg"
              alt="logo mona" width="50%">
          </a>
          <div style="text-align: center;">
            <h1>Rapport IFT3150 - H25</h1>
            <h2>Vi Phung</h2>
          </div>
        </div>
      </header>

      <div>
        <h3>À propos</h3>
        <p>C'est un projet de développement d'une application mobile par
          l'organisme <a href="https://monamontreal.org">MONA</a>, visant à
          découvrir, photographier et collectionner de l'art public.</p>
        <p>J'ai rejoint l'équipe de développement du serveur MONA dans le cadre
          du cours projet IFT3150 en Hiver 2025.</p>
      </div>

      <div id="hebdomaire">
        <h3>Rapport hebdomadaire</h3>

        <!-- Week 1 -->
        <div class="weekly-report" id="semaine1">
          <div class="weekly-header">Semaine 1</div>
          <div class="report-content">
            <p>Ma première rencontre avec l'équipe MONA a commencé avec Lena et
              Christian – un autre étudiant participant au projet IFT3150. Lena
              nous a raconté l'histoire et le <a
                href="https://monamontreal.org/apropos.html">développement</a>
              du projet, et j'ai été très impressionné par leur capacité à
              rassembler une équipe de bénévoles et obtenir des subventions pour
              financer l'application mobile.</p>
            <p>L'équipe est très bien organisée, dirigée par Lena Krause, et
              collabore entre le département d'histoire de l'art et celui de
              l'information et de recherche opérationnelle.</p>
            <p>Ma tâche initiale était de créer des liens pour les rapports et
              de me familiariser avec l'application mobile MONA.</p>
          </div>
        </div>

        <!-- Week 2 -->
        <div class="weekly-report" id="semaine2">
          <div class="weekly-header">Semaine 2</div>
          <div class="report-content">
            <p>Cette semaine, j'ai eu la première rencontre en présentiel avec
              certains membres de l'équipe MONA, notamment Lena, Christian,
              Tiffany et Sarah. Lena nous a présenté en détail l'interface admin
              de MONA ainsi que l'espace Figma contenant les maquettes de
              l'application mobile. J'ai fourni des suggestions sur l'expérience
              utilisateur.</p>
            <p>On a décidé que je travaillerais sur le côté serveur du projet.
              Initialement, je devais apprendre à configurer et installer le
              serveur avec Simon, mais il a dû s'absenter pour des raisons de
              santé. J'ai donc étudié la documentation des étudiants précédents,
              notamment Corélie, pour me familiariser avec la configuration du
              serveur.</p>
          </div>
        </div>

        <!-- Week 3 -->
        <div class="weekly-report" id="semaine3">
          <div class="weekly-header">Semaine 3 *</div>
          <div class="report-content">
            <p>Cette semaine, j'ai eu une réunion avec Lena, Christian, Tiffany
              et Simon. C'était la première rencontre physique avec Simon, après
              une réunion en ligne antérieure. Simon m'a brièvement expliqué la
              structure du serveur MONA et m'a aidé pour l'installation, la
              configuration du serveur ainsi que la migration des bases de
              données.</p>
            <p>J'ai poursuivi ma collaboration avec Simon pour créer une pull
              request dans le répertoire <code>mona-server</code> intitulée
              "Generation documentation for the application's APIs and code linting".</p>
            <p>La tâche se décompose en différentes étapes :</p>
            <ul>
              <li>
                <strong>Génération de la documentation OpenAPI</strong> :
                <ul>
                  <li>L'objectif était de générer la documentation OpenAPI pour
                    les routes API existantes.</li><br>
                  <li>J'ai rencontré des problèmes lors de l'installation de
                    <code>dedoc/scramble</code> à cause de conflits de
                    dépendances. J'ai résolu le problème en utilisant la
                    commande avec Sail et en ajoutant le drapeau <code>-W</code>
                    pour autoriser toute installation, quelle que soit la
                    version, pour permettre la mise à jour des dépendances :
                    <pre><code>./vendor/laravel/sail/bin/sail composer require dedoc/scramble:* -W</code></pre>
                    Après une installation réussie, la documentation générée est
                    accessible via la route <code>/docs/api</code> (interface
                    utilisateur) et via <code>/docs/api.json</code> (le document
                    JSON complet conforme à la spécification OpenAPI).
                  </li>
                  <br>
                  <li>J'ai commencé à ajouter des commentaires PHPDoc détaillés
                    dans les méthodes des contrôleurs afin d'enrichir la
                    documentation générée.</li><br>
                </ul>
              </li>
              <br>
              <li>
                <strong>Linting du code</strong> :
                <ul>
                  <li>J'ai installé Duster pour le linting du code PHP et
                    Prettier pour formater les vues.</li>
                  <li>Pour le PHP, j'ai exécuté la commande suivante pour lancer
                    Duster et auto-corriger les erreurs de style :
                    <pre><code>./vendor/laravel/sail/bin/sail php ./vendor/bin/duster lint
./vendor/laravel/sail/bin/sail php ./vendor/bin/duster fix</code></pre>
                  </li>
                  <li>Pour les vues (fichiers Blade), après avoir installé
                    Prettier et le plugin dédié
                    (<code>prettier-plugin-blade</code>), j'ai lancé :
                    <pre><code>./vendor/laravel/sail/bin/sail npx prettier --write "resources/views/**/*.blade.php"</code></pre>
                    La création d'un fichier <code>.prettierrc</code> est
                    optionnelle, mais recommandée pour définir vos règles de
                    formatage de manière cohérente. Par exemple, mon fichier
                    <code>.prettierrc</code> contient :
                    <pre><code>{
    "tabWidth": 4,
    "useTabs": false,
    "semi": true,
    "singleQuote": true,
    "printWidth": 80,
    "plugins": ["prettier-plugin-blade"]
}</code></pre>
                  </li>
                </ul>
              </li>
              <br>
              <li>
                <strong>Validation avec l'OpenAPI Bundle Validator</strong> :
                <ul>
                  <li>Cette étape vise à tester que l'API fonctionne toujours
                    comme attendu en validant les réponses de l'API par rapport
                    à la documentation générée.</li>
                  <li>Cette étape n'est pas encore terminée pour cette semaine
                    en raison d'un problème de configuration (la valeur de
                    configuration retournait un tableau au lieu d'une chaîne).
                    Des ajustements supplémentaires sont nécessaires.</li>
                </ul>
              </li>
            </ul>
          </div>
        </div>

        <!-- Week 4 -->
        <div class="weekly-report" id="semaine4">
          <div class="weekly-header">Semaine 4 *</div>
          <div class="report-content">
            <p>
              Cette semaine, j'ai continué à travailler sur l'écriture des
              commentaires PHPDoc dans les contrôleurs conformément aux
              instructions du <a
                href="https://github.com/MaisonMONA/mona-server/wiki">wiki</a>
              pour tous les APIs V3 et sur le linting du code.
            </p>
            <p><strong>Problèmes rencontrés:</strong></p>
            <ul>
              <li>
                <strong>Erreur 1: Bloc de commentaires indésirable</strong><br>
                <em>Problème:</em> Il existe quelques blocs de code commenté
                (ex. la boucle <code>foreach</code> dans UserPlaceController)
                apparaissait dans la documentation générée.<br>
                <em>Résolution:</em> Supprimer ou déplacer ces commentaires afin
                qu'ils ne soient pas interprétés comme faisant partie de la
                documentation.<br>
              </li>
              <br>
              <li>
                <strong>Erreur 2: Problème de type dans ValidateCallExtractor
                  dans certains controlleurs</strong><br>
                <em>Problème:</em> L'appel à
                <pre><code>Validator::make(request()->route()->parameters(), [...])</code></pre>
                générait l'erreur
                "Argument #2 ($node) doit être de type PhpParser\Node\Expr\Variable, PhpParser\Node\Expr\MethodCall donné".<br>
                <img src="assets/err1.png" alt="Capture d'écran de l'erreur 1"
                  style="max-width:50%;"><br>
                <br>
                <em>Résolution:</em> Affecter les paramètres de route à une
                variable avant de les valider, par exemple :
                <pre><code>$params = request()->route()->parameters();
Validator::make($params, [
    'artist' => ['integer', Rule::exists('artists', 'id')]
])->validate();</code></pre>
              </li>
              <br>
              <li>
                <strong>Erreur 3: Variable non définie dans
                  UserPhotoController</strong><br>
                <em>Problème:</em> Dans UserPhotoController, l'erreur
                "Undefined variable $types" apparaissait car la variable n'était
                pas définie lors de son utilisation dans la validation.<br>
                <img src="assets/err2.png" alt="Capture d'écran de l'erreur 4"
                  style="max-width:100%;"></li>
              <em>Code original:</em>
              <pre><code>$types = ['artwork', 'place', 'heritage'];
    Validator::make($request->toArray(), [
    'discovery_id' => ['required', 'integer', 'min:1'],
    'type' => ['required', Rule::in($types)]
])->validate();</code></pre>
              <br>
              <em>Résolution:</em> Remplacer l'utilisation de
              <code>$types</code> par une définition en ligne, par exemple :
              <pre><code>Validator::make($request->toArray(), [
    'discovery_id' => ['required', 'integer', 'min:1'],
    'type' => ['required', Rule::in(['artwork', 'place', 'heritage'])]
])->validate();</code></pre>

            </li>
          </ul>
          <br>
          <p>
            J'ai continué à travailler sur la
            "validation avec OpenAPI Bundle Validator". La plupart des bundles
            que j'ai trouvés en ligne étaient incompatibles avec notre version
            PHP actuelle. Cependant, j'ai découvert un bundle validator en
            développement qui fonctionnait : <a
              href="https://packagist.org/packages/tyamahori/laravel-openapi-validator">tyamahori/laravel-openapi-validator</a>,
            qui est un fork de <a
              href="https://github.com/kirschbaum-development/laravel-openapi-validator">kirschbaum-development/laravel-openapi-validator</a>.<br><br>
            Je l'ai installé en utilisant Sail, publié la configuration dans
            <code>config/openapi_validator.php</code>, et spécifié
            <code>OPENAPI_PATH</code> dans mon fichier
            <code>.env</code>.<br><br>
            Toutefois, en raison d'instructions peu claires dans leur
            documentation, je n'étais pas sûr de la suite à donner, et j'ai
            décidé de demander l'avis de Simon.
          </p>

        </div>
      </div>

      <!-- Week 5 -->
      <div class="weekly-report" id="semaine5">
        <div class="weekly-header">Semaine 5</div>
        <div class="report-content">
          <p>
            Cette semaine, j'ai travaillé avec Simon pour "rebaser" ma pull
            request. Concrètement, j'ai appris à regrouper tous mes anciens
            commits de la pull request en seulement trois commits principaux.
            Cela rend l'historique de travail beaucoup plus clair. À l'avenir,
            si je dois apporter des modifications à ma pull request, je pourrai
            simplement les ajouter à ces commits existants plutôt que d'en créer
            de nouveaux.
          </p>
        </div>
      </div>

      <!-- Week 6 -->
      <div class="weekly-report" id="semaine6">
        <div class="weekly-header">Semaine 6</div>
        <div class="report-content">
          <p>
            Cette semaine, j'ai eu l'occasion de rencontrer le professeur Guy
            Lapalme, responsable du projet MONA dans le cadre du cours IFT3150.
            Je lui ai présenté mes travaux effectués chez MONA et mes
            perspectives de contribution pour la suite. Après discussion avec
            Lena et Simon, j'ai décidé de continuer à travailler sur les API de
            mona-server, notamment pour améliorer la "CRUD-bilité" de l'API des
            badges.
          </p>
        </div>
      </div>

      <!-- Week 7 -->
      <div class="weekly-report" id="semaine7">
        <div class="weekly-header">Semaine 7 *</div>
        <div class="report-content">
          <p>
            Cette semaine, je n'ai malheureusement pas pu assister à notre
            réunion hebdomadaire à cause d'une urgence familiale. J'ai également
            dû préparer mes examens intra, ce qui m'a laissé moins de temps pour
            avancer sur mon projet. Toutefois, j'ai pu finaliser la
            documentation de ma pull request intitulée
            "Generation of OpenAPI documentation and Code linting".
          </p>
          <h3>Génération de la documentation OpenAPI avec Scramble</h3>
          <ol>
            <li>
              <strong>Installation de Scramble :</strong><br>
              Installez Scramble via Sail, en autorisant la mise à jour des
              dépendances si nécessaire :
              <pre><code>./vendor/laravel/sail/bin/sail composer require dedoc/scramble:* -W</code></pre>
              <p>
                Après installation, Scramble enregistre par défaut deux routes :
                <br><code>/docs/api</code> – L'interface Web de la
                documentation,
                <br><code>/docs/api.json</code> – Le document OpenAPI au format
                JSON décrivant l'API.
              </p>
            </li>
            <li>
              <strong>Publication des fichiers :</strong><br>
              Publiez les fichiers de configuration et la vue :
              <pre><code>./vendor/laravel/sail/bin/sail php artisan vendor:publish --provider="Dedoc\Scramble\ScrambleServiceProvider"</code></pre>
              Cela génère notamment <code>config/scramble.php</code> et
              <code>resources/views/vendor/scramble/docs.blade.php</code>.<br><br>
              <em>Note&nbsp;:</em> Après avoir cloné ce dépôt, n'oubliez pas
              d'exécuter <code>composer install</code> (ou via Sail,
              <code>./vendor/laravel/sail/bin/sail composer install</code>) pour
              installer Scramble et rendre la route <code>/docs/api</code>
              accessible.
            </li>
            <br>
            <li>
              <strong>Autorisation d'accès :</strong><br>
              Par défaut, Scramble protège la route <code>/docs/api</code> en
              utilisant la gate <code>viewApiDocs</code> ou le middleware
              <code>RestrictedDocsAccess</code>.
              <ul>
                <li>
                  <em>Via la gate :</em>
                  <pre><code>Gate::define('viewApiDocs', function (User $user) {
    return true; 
});</code></pre>
                </li>
                <li>
                  <em>Ou en commentant le middleware dans config/scramble.php
                    :</em>
                  <pre><code>'middleware' => [
    'web',
    // Dedoc\Scramble\Http\Middleware\RestrictedDocsAccess::class,
],</code></pre>
                </li>
              </ul>
              Cela rend la route publique.
            </li>
            <br>
            <li>
              <strong>Vue publiée (Stoplight Elements) :</strong><br>
              Le fichier
              <code>resources/views/vendor/scramble/docs.blade.php</code> inclut
              le rendu Stoplight Elements :
              <pre><code>&lt;elements-api
    apiDescriptionUrl="{{ route('scramble.docs.index') }}"
    tryItCredentialsPolicy="{{ config('scramble.ui.try_it_credentials_policy', 'include') }}"
    router="hash"
    @if(config('scramble.ui.hide_try_it')) hideTryIt="true" @endif
    logo="{{ config('scramble.ui.logo') }}"
/&gt;</code></pre>
              Cela fournit une interface graphique pour consulter et tester
              l’API.
            </li>
          </ol>

          <p>
            Une fois tout configuré, la documentation est accessible via
            <code>http://votre-domaine/docs/api</code> et la spécification JSON
            via <code>http://votre-domaine/docs/api.json</code>.
          </p>

        </div>
      </div>

      <!-- Week 8 -->
      <div class="weekly-report" id="semaine8">
        <div class="weekly-header">Semaine 8</div>
        <div class="report-content">
          <p>
            <strong>Réunion AGA 2024 avec l'équipe MaisonMONA :</strong><br>
            &bull; J'ai participé à la réunion de fin d'année 2024 avec toute
            l'équipe, où nous avons discuté des défis et réussites de l'année
            précédente, ainsi que des objectifs pour l'année à venir.<br><br>

            <strong>Début du travail sur l'amélioration de la "CRUD-bilité" des
              routes API :</strong><br>
            &bull; J'ai commencé à implémenter certaines fonctionnalités
            manquantes pour plusieurs routes, ainsi que leurs pages dans
            l'interface admin.<br>
            &bull; Toutefois, je manque encore de nombreuses ressources et fais
            face à divers problèmes qui devront être abordés afin de mener à
            bien cette tâche.
          </p>
        </div>
      </div>

      <!-- Week 9 -->
      <div class="weekly-report" id="semaine9">
        <div class="weekly-header">Semaine 9</div>
        <div class="report-content">
          <p>
            <strong>Rencontres avec Simon et Corélie :</strong><br>
            &bull; En plus de la réunion hebdomadaire, j'ai eu plusieurs
            discussions avec Simon et Corélie afin de clarifier davantage la
            tâche que je dois accomplir.<br>
            &bull; Lors de la rencontre avec Corélie, elle m'a aidé à peupler
            les données depuis la base de données vers ma base locale, tout en
            me montrant la version actuelle de l'interface admin et le travail
            qu'elle y a apporté.<br>
            &bull; En réunion avec Simon, j'ai pu résoudre quelques problèmes
            Git restants sur ma précédente pull request. Au final, tout s'est
            bien passé et il a pu faire du merge sur la branch dev et fermer la
            PR. Nous avons ensuite discuté plus en détail de ma tâche visant à
            améliorer les fonctionnalités CRUD de l'API. Il m'a partagé
            plusieurs ressources à étudier et m'a demandé de rédiger un rapport
            sur l'état actuel des routes CRUD.
          </p>

          <h3>Résumé Bref de la Tâche</h3>
          <p>
            J'ai analysé et synthétisé l'état actuel des routes
            <code>web.php</code> (partie admin) et <code>api.php</code> (API v3)
            afin de dresser la liste des fonctionnalités CRUD existantes et
            manquantes. L'objectif est de déterminer où des routes doivent être
            ajoutées ou complétées pour couvrir tous les besoins de création,
            lecture, mise à jour et suppression dans l’application.
          </p>

          <hr />

          <h2>1. Routes Web (<code>routes/web.php</code>)</h2>
          <ul>
            <li><strong>Artworks</strong>
              <ul>
                <li><strong>Create:</strong>
                  <ul>
                    <li>GET <code>admin/artworks/create</code> (formulaire)</li>
                    <li>POST <code>admin/artworks</code> (store)</li>
                  </ul>
                </li>
                <li><strong>Retrieve:</strong>
                  <ul>
                    <li>GET <code>admin/artworks</code> (index / liste)</li>
                    <li>GET <code>admin/artworks/{artwork}</code> (afficher un
                      élément)</li>
                  </ul>
                </li>
                <li><strong>Update:</strong>
                  <ul>
                    <li>GET <code>admin/artworks/{artwork}/edit</code>
                      (formulaire)</li>
                    <li>PUT <code>admin/artworks/{artwork}</code> (mise à
                      jour)</li>
                  </ul>
                </li>
                <li><strong>Delete:</strong> <em>Manquant</em></li>
              </ul>
            </li>

            <li><strong>Artists</strong>
              <ul>
                <li><strong>Create:</strong> <em>Manquant</em></li>
                <li><strong>Retrieve:</strong>
                  <ul>
                    <li>GET <code>admin/artists</code> (index)</li>
                    <li>GET <code>admin/artists/{artist}</code> (afficher un
                      élément)</li>
                  </ul>
                </li>
                <li><strong>Update:</strong> <em>Manquant</em></li>
                <li><strong>Delete:</strong> <em>Manquant</em></li>
              </ul>
            </li>

            <li><strong>Places</strong>
              <ul>
                <li><strong>Create:</strong> <em>Manquant</em></li>
                <li><strong>Retrieve:</strong>
                  <ul>
                    <li>GET <code>admin/places</code> (index)</li>
                    <li>GET <code>admin/places/{place}</code> (afficher un
                      élément)</li>
                  </ul>
                </li>
                <li><strong>Update:</strong> <em>Manquant</em></li>
                <li><strong>Delete:</strong> <em>Manquant</em></li>
              </ul>
            </li>

            <li><strong>Heritages</strong>
              <ul>
                <li><strong>Create:</strong>
                  <ul>
                    <li>GET <code>admin/heritages/create</code> (formulaire
                      uniquement)</li>
                    <li><em>POST/store manquant</em></li>
                  </ul>
                </li>
                <li><strong>Retrieve:</strong>
                  <ul>
                    <li>GET <code>admin/heritages</code> (index)</li>
                    <li>GET <code>admin/heritages/{heritage}</code> (afficher un
                      élément)</li>
                  </ul>
                </li>
                <li><strong>Update:</strong> <em>Manquant</em></li>
                <li><strong>Delete:</strong> <em>Manquant</em></li>
              </ul>
            </li>

            <li><strong>Users</strong>
              <ul>
                <li><strong>Retrieve:</strong>
                  <ul>
                    <li>GET <code>admin/users</code> (index)</li>
                    <li>GET <code>admin/users/{user}</code> (afficher un
                      élément)</li>
                  </ul>
                </li>
                <li><strong>Create / Update / Delete :</strong>
                  <em>Manquants</em></li>
              </ul>
            </li>

            <li><strong>Discoveries</strong>
              <ul>
                <li><strong>Retrieve:</strong>
                  <ul>
                    <li>GET <code>admin/discoveries</code> (index) +
                      filtrages</li>
                  </ul>
                </li>
                <li><strong>Create:</strong>
                  <ul>
                    <li>GET <code>admin/discoveries/CreateArtwork</code>
                      (formulaire)</li>
                    <li>PUT <code>admin/discoveries/StoreArtwork</code>
                      (enregistrer une œuvre)</li>
                  </ul>
                </li>
                <li><strong>Update / Delete:</strong> <em>Manquantes</em></li>
              </ul>
            </li>

            <li><strong>Autres (Tag, Photo, etc.)</strong>
              <ul>
                <li><strong>TagPhotoController, TagDiscoveryController
                    :</strong>
                  <ul>
                    <li>Routes <em>partielles</em> pour ajouter (PUT) ou
                      supprimer (GET) des tags</li>
                  </ul>
                </li>
                <li><strong>PhotoController (admin) :</strong> seulement
                  <code>index</code></li>
                <li><strong>AdjustmentController, DeletionController,
                    ChiffresClesController :</strong> seulement
                  <code>index</code></li>
                <li><strong>MenuController :</strong>
                  <ul>
                    <li>GET <code>admin/home</code></li>
                    <li>PUT <code>admin/home/search</code></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>

          <h2>2. Routes API (<code>routes/api/v3/api.php</code>)</h2>
          <ul>
            <li><strong>Ressources publiques (sans authentification)</strong>
              <ul>
                <li><strong>Artworks, Artists, Places, Badges, Heritages
                    :</strong>
                  <ul>
                    <li>Utilisent
                      <code>Route::resource(...)->only(['index','show'])</code></li>
                    <li><strong>Read seulement :</strong> GET <code>index</code>
                      et GET <code>show</code></li>
                    <li><strong>Create / Update / Delete:</strong>
                      <em>Manquantes</em></li>
                  </ul>
                </li>
                <li><strong>lastUpdatedArtworks, lastUpdatedPlaces,
                    lastUpdatedHeritages, LODExport :</strong>
                  <ul>
                    <li>Seulement la méthode <code>index</code></li>
                  </ul>
                </li>
                <li><strong>DocumentationController :</strong>
                  <ul>
                    <li>GET <code>doc/artworks</code>, <code>doc/artists</code>,
                      <code>doc/places</code>, etc.</li>
                  </ul>
                </li>
                <li><strong>Authentification :</strong>
                  <ul>
                    <li>POST <code>login</code>, POST <code>register</code></li>
                    <li>POST <code>password/email</code>, GET
                      <code>password/reset</code>, POST
                      <code>password/setNewPassword</code></li>
                  </ul>
                </li>
              </ul>
            </li>
            <li><strong>Ressources protégées (<code>auth:api</code>)</strong>
              <ul>
                <li><strong>Utilisateur connecté :</strong>
                  <ul>
                    <li>POST <code>logout</code></li>
                    <li>GET <code>user/</code> (infos du compte)</li>
                    <li>POST <code>user/updatePassword</code>,
                      <code>user/updateUsername</code>,
                      <code>user/updateEmail</code></li>
                    <li>GET <code>user/photo</code></li>
                  </ul>
                </li>
                <li><strong>CRUD personnel de l’utilisateur :</strong>
                  <ul>
                    <li><code>Route::apiResource('artworks',
                        UserArtworkController::class)</code></li>
                    <li><code>Route::apiResource('places',
                        UserPlaceController::class)</code></li>
                    <li><code>Route::apiResource('heritages',
                        UserHeritageController::class)</code></li>
                    <li>Chaque ressource offre toutes les méthodes CRUD pour
                      l’utilisateur authentifié.</li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>

          <h2>Conclusion</h2>
          <ul>
            <li>Dans <strong>Web/Admin</strong>, plusieurs ressources n’ont
              qu’une couverture partielle des opérations CRUD (pas de route
              DELETE, etc.).</li>
            <li>Dans l’<strong>API publique</strong>, la plupart des ressources
              (artworks, places, etc.) sont seulement en READ (index, show).
              Pour la partie <strong>authentifiée</strong>, un utilisateur peut
              effectuer un CRUD complet sur ses propres éléments (user/artworks,
              user/places, user/heritages).</li>
            <li><strong>Prochaines étapes :</strong> clarifier si des routes de
              création, mise à jour ou suppression sont nécessaires côté admin
              et/ou pour l’API publique, puis les implémenter.</li>
          </ul>
        </div>
      </div>

      <!-- Week 10 -->
      <div class="weekly-report" id="semaine10">
        <div class="weekly-header">Semaine 10 *</div>
        <div class="report-content">
          <p>
            J'ai analysé et synthétisé l'état actuel des APIs routes afin de
            dresser la liste des fonctionnalités CRUD existantes et manquantes.
            L'objectif est de déterminer où des routes doivent être ajoutées ou
            complétées pour couvrir tous les besoins de création, lecture, mise
            à jour et suppression dans l’application.
          </p>
          <table>
            <thead>
              <tr>
                <th>Controllers</th>
                <th>Index</th>
                <th>Create</th>
                <th>Store</th>
                <th>Show</th>
                <th>Edit</th>
                <th>Update</th>
                <th>Destroy</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Artist (Admin)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
              </tr>
              <tr>
                <td>Artist (API)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
              </tr>
              <tr>
                <td>Artwork (Admin)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
              </tr>
              <tr>
                <td>Artwork (API)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
              </tr>
              <tr>
                <td>Place (Admin)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
              </tr>
              <tr>
                <td>Place (API)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
              </tr>
              <tr>
                <td>Heritage (Admin)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
              </tr>
              <tr>
                <td>Heritage (API)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
              </tr>
              <tr>
                <td>Badge (Admin)</td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
              </tr>
              <tr>
                <td>Badge (API)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
              </tr>
              <tr>
                <td>User (Admin)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
              </tr>
              <tr>
                <td>User (API)</td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
                <td><span style="color:red;">&#10007;</span></td>
              </tr>
            </tbody>
          </table>
          <p><strong>Remarque :</strong></p>
          <ul>
            <li>Dans <code>BadgeController</code> en admin, les actions "create"
              et "edit" renvoient aux pages de vue, mais ces pages n'existent
              pas.</li>
            <li>Les routes API pour <code>Artworks (api/v3/artworks)</code>,
              <code>Place (api/v3/places)</code>, <code>Places
                (api/v3/places)</code> et <code>Heritages
                (api/v3/heritages)</code> renvoient une erreur car le fichier de
              chemin de ces routes n'existe pas.</li>
          </ul>
        </div>
      </div>

      <!-- Week 11 -->
      <div class="weekly-report" id="semaine11">
        <div class="weekly-header">Semaine 11</div>
        <div class="report-content">
          Pour cette semaine:
          <ul>
            <li>Rencontre avec <strong>Corélie</strong> pour discuter de l’implémentation des fonctionnalités manquantes sur les
              routes API.</li>
            <li>Côté interface d’administration : certaines pages ou actions ne fonctionnent toujours pas ; Corélie travaille à
              corriger ces points.</li>
            <li>Côté API : j’ai commencé l’ajout des méthodes <code>store</code>, <code>update</code> et <code>destroy</code> dans
              les contrôleurs en se basant sur les models et resources existantes.
              <em>ArtworkController</em>, <em>PlaceController</em>, <em>HeritageController</em> et <em>ArtistController</em> pour
              compléter le CRUD des ressources.
            </li>
            <li>Pour l’API <em>Badge</em>, nous avons convenu de prendre contact avec l’équipe mobile afin d’évaluer l’état actuel
              des badges dans l’application et d’adapter l’API en conséquence.</li>
          </ul>
          <table>
            <thead>
              <tr>
                <th>Controllers</th>
                <th>Index</th>
                <th>Create</th>
                <th>Store</th>
                <th>Show</th>
                <th>Edit</th>
                <th>Update</th>
                <th>Destroy</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Artist (API)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:orangered;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:orangered;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
              </tr>
              <tr>
                <td>Artwork (API)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:orangered;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:orangered;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
              </tr>
              <tr>
                <td>Place (API)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:orangered;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:orangered;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
              </tr>
              <tr>
                <td>Heritage (API)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:orangered;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:orangered;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
              </tr>
              <tr>
                <td>Badge (API)</td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:orangered;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:orangered;">&#10007;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
                <td><span style="color:green;">&#10003;</span></td>
              </tr>
            </tbody>
          </table>
        </div>

      </div>

      <!-- Week 12 -->
      <div class="weekly-report" id="semaine12">
        <div class="weekly-header">Semaine 12</div>
        <div class="report-content">
          <ul>
            <li>Réunion avec <strong>Christian</strong> de l’équipe mobile : nous avons clarifié le
              fonctionnement actuel des badges et convenu d’ajouter la fonctionnalité
              <code>create</code> à l’API <em>Badge</em>.
            </li>
          
            <li>Poursuite de l’implémentation des opérations CRUD pour les ressources API
              (<em>Artwork / Place / Heritage / Artist</em>) et préparation du rapport et de la
              présentation finale.</li>
          
            <li>Problème rencontré avec la génération de la documentation OpenAPI sur le serveur
              <em>dev</em> : elle ne s’affiche pas via l’URL publique. Avec Simon, nous avons essayé debug, mais maintenant j'ai seulement mis en
              place une solution temporaire pour qu’elle fonctionne en local (<code>localhost</code>)
              sur la branche <code>dev</code> :
            </li>
          
            <pre><code>// Étapes appliquées :
          1. Dans <strong>config/app.php</strong> :
             'url' =&gt; 'http://localhost',
          
          2. Dans le fichier <strong>.env</strong> :
             APP_URL=http://localhost
          
          3. Installation locale de Scramble (au cas où il ne serait pas déjà listé) :
             composer require dedoc/scramble
          </code></pre>
          </ul>
        </div>
      </div>

      <!-- Week 13 -->
       <div class="weekly-report" id="semaine13">
        <div class="weekly-header">Semaine 13</div>
        <div class="report-content">
          <p><strong>Période d’examens :</strong> la fin de session universitaire a pris une bonne partie de mon
            emploi du temps (examens et remises de travaux), ce qui a ralenti le rythme de développement.</p>
          
          <p>J’ai toutefois finalisé l’ajout des <strong>fonctionnalités CRUD</strong> pour les APIs
            <em>Artwork</em>, <em>Place</em>, <em>Heritage</em> et <em>Artist</em> :
          </p>
          <p>
            — <b>Create / Store</b> (POST) <br>
            — <b>Update</b> (PUT/PATCH) <br>
            — <b>Delete</b> (DELETE) <br>
          </p>
          
          <p>J’ai ouvert une <code>pull&nbsp;request</code> sur la branche <code>dev</code> intitulée
            <em>“Add CRUD features for resource APIs”</em>. Elle contient aussi des tests PHPUnit de base et la
            mise à jour automatique de la documentation OpenAPI générée par Scramble. 
          </p>
          
          <p>Enfin, j'ai finalisé ma rédaction du rapport final, ainsi que la présentation pour la soutenance du projet IFT3150.</p>
          
       </div>
    </div>

    <script src="script.js"></script>

  </body>
</html>
